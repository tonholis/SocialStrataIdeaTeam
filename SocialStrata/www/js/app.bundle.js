!function(){"use strict";angular.module("app.auth",[])}(),function(){"use strict";angular.module("app.buildings",[])}(),function(){"use strict";angular.module("app.profiles",[])}(),function(){"use strict";angular.module("app.sidemenu",[])}(),function(){"use strict";function e(e,n,i,t){e.data={},e.login=function(){n.login(e.data.username,e.data.password).success(function(e){t.go("app.buildings")}).error(function(e){i.alert({title:"Login failed!",template:"Please check your credentials!"})})}}e.$inject=["$scope","authService","$ionicPopup","$state"],angular.module("app.auth").controller("authController",e)}(),function(){"use strict";function e(e){return{login:function(n,i){var t=e.defer(),a=t.promise;return"user"==n&&"password"==i?t.resolve("Welcome "+n+"!"):t.reject("Wrong credentials!"),a.success=function(e){return a.then(e),a},a.error=function(e){return a.then(null,e),a},a}}}e.$inject=["$q"],angular.module("app.auth").service("authService",e)}(),function(){"use strict";function e(e,n){e.channels=[{name:"Channel 1",id:1},{name:"Channel 2",id:2},{name:"Channel 3",id:3},{name:"Channel 4",id:4},{name:"Channel 5",id:5},{name:"Channel 6",id:6}]}e.$inject=["$scope","$stateParams"],angular.module("app.buildings").controller("buildingController",e)}(),function(){"use strict";function e(e,n,i){var t=i.fb.database().ref("buildings");n.show(),t.on("value",function(i){e.buildings=i.val(),n.hide()},function(e){console.log("error reading: "+e.code);$ionicPopup.alert({title:"Ops!",template:"Sorry! An error ocurred"});n.hide()})}e.$inject=["$scope","$ionicLoading","FirebaseService"],angular.module("app.buildings").controller("buildingsController",e)}(),function(){"use strict";function e(e){}e.$inject=["$scope"],angular.module("app.profiles").controller("landlordProfileController",e)}(),function(){"use strict";function e(e){}e.$inject=["$scope"],angular.module("app.profiles").controller("tenantProfileController",e)}(),function(){"use strict";function e(e){}e.$inject=["$scope"],angular.module("app.sidemenu").controller("sidemenuController",e)}(),function(){"use strict";angular.module("app",["ionic","app.firebase","app.auth","app.sidemenu","app.buildings"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}])}(),function(){"use strict";angular.module("app.firebase",[]).service("FirebaseService",function(){var e={apiKey:"AIzaSyB5q81AGGox4i8-QL2KOtnDDfi05irgcHE",authDomain:"socialstrataideateam.firebaseapp.com",databaseURL:"https://socialstrataideateam.firebaseio.com",storageBucket:""};this.fb=firebase.initializeApp(e)})}(),function(){"use strict";angular.module("app").config(["$stateProvider","$urlRouterProvider",function(e,n){e.state("app",{url:"/app","abstract":!0,templateUrl:"views/sidemenu.html"}).state("app.buildings",{url:"/buildings",views:{menuContent:{templateUrl:"views/buildings.html"}}}).state("app.building",{url:"/buildings/:buildingId",views:{menuContent:{templateUrl:"views/building.html"}}}).state("login",{url:"/login",templateUrl:"views/auth/login.html"}),n.otherwise("/login")}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgvYXV0aC5tb2R1bGUuanMiLCJidWlsZGluZ3MvYnVpbGRpbmdzLm1vZHVsZS5qcyIsInByb2ZpbGUvcHJvZmlsZXMubW9kdWxlLmpzIiwic2lkZW1lbnUvc2lkZW1lbnUubW9kdWxlLmpzIiwiYXV0aC9hdXRoQ29udHJvbGxlci5qcyIsImFwcC5idW5kbGUuanMiLCJhdXRoL2F1dGhTZXJ2aWNlLmpzIiwiYnVpbGRpbmdzL2J1aWxkaW5nQ29udHJvbGxlci5qcyIsImJ1aWxkaW5ncy9idWlsZGluZ3NDb250cm9sbGVyLmpzIiwicHJvZmlsZS9sYW5kbG9yZFByb2ZpbGVDb250cm9sbGVyLmpzIiwicHJvZmlsZS90ZW5hbnRQcm9maWxlQ29udHJvbGxlci5qcyIsInNpZGVtZW51L3NpZGVtZW51Q29udHJvbGxlci5qcyIsImFwcC5tb2R1bGUuanMiLCJhcHAuZmlyZWJhc2UuanMiLCJhcHAucm91dGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJhdXRoQ29udHJvbGxlciIsIiRzY29wZSIsImF1dGhTZXJ2aWNlIiwiJGlvbmljUG9wdXAiLCIkc3RhdGUiLCJkYXRhIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic3VjY2VzcyIsImdvIiwiZXJyb3IiLCJhbGVydCIsInRpdGxlIiwidGVtcGxhdGUiLCIkaW5qZWN0IiwiY29udHJvbGxlciIsIiRxIiwiZGVmZXJyZWQiLCJkZWZlciIsInByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZm4iLCJ0aGVuIiwic2VydmljZSIsImJ1aWxkaW5nQ29udHJvbGxlciIsIiRzdGF0ZVBhcmFtcyIsImNoYW5uZWxzIiwibmFtZSIsImlkIiwiYnVpbGRpbmdzQ29udHJvbGxlciIsIiRpb25pY0xvYWRpbmciLCJGaXJlYmFzZVNlcnZpY2UiLCJyZWYiLCJmYiIsImRhdGFiYXNlIiwic2hvdyIsIm9uIiwic25hcHNob3QiLCJidWlsZGluZ3MiLCJ2YWwiLCJoaWRlIiwiZXJyb3JPYmplY3QiLCJjb25zb2xlIiwibG9nIiwiY29kZSIsImxhbmRsb3JkUHJvZmlsZUNvbnRyb2xsZXIiLCJ0ZW5hbnRQcm9maWxlQ29udHJvbGxlciIsInNpZGVtZW51Q29udHJvbGxlciIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwicmVhZHkiLCJ3aW5kb3ciLCJjb3Jkb3ZhIiwicGx1Z2lucyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiZGlzYWJsZVNjcm9sbCIsIlN0YXR1c0JhciIsInN0eWxlRGVmYXVsdCIsImNvbmZpZyIsImFwaUtleSIsImF1dGhEb21haW4iLCJkYXRhYmFzZVVSTCIsInN0b3JhZ2VCdWNrZXQiLCJ0aGlzIiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsImFic3RyYWN0IiwidGVtcGxhdGVVcmwiLCJ2aWV3cyIsIm1lbnVDb250ZW50Iiwib3RoZXJ3aXNlIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUFBLFNBQUFDLE9BQUEsa0JDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLHVCQ0hBLFdBQ0EsWUFFQUQsU0FBQUMsT0FBQSxzQkNIQSxXQUNBLFlBRUFELFNBQUFDLE9BQUEsc0JDSEEsV0FDQSxZQU9BLFNBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUFILEVBQUFJLFFBRUFKLEVBQUFLLE1BQUEsV0FDQUosRUFBQUksTUFBQUwsRUFBQUksS0FBQUUsU0FBQU4sRUFBQUksS0FBQUcsVUFBQUMsUUFBQSxTQUFBSixHQUNBRCxFQUFBTSxHQUFBLG1CQUNBQyxNQUFBLFNBQUFOLEdBQ0FGLEVBQUFTLE9BQ0FDLE1BQUEsZ0JBQ0FDLFNBQUEsc0NDS0lkLEVBQWVlLFNBQVcsU0FBVSxjQUFlLGNBQWUsVURwQnRFakIsUUFBQUMsT0FBQSxZQUVBaUIsV0FBQSxpQkFBQWhCLE1FTEEsV0FDQSxZQU9BLFNBQUFFLEdBQUFlLEdBRUEsT0FDQVgsTUFBQSxT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Y3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwLmF1dGhcIiwgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwLmJ1aWxkaW5nc1wiLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAucHJvZmlsZXNcIiwgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwLnNpZGVtZW51XCIsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcC5hdXRoXCIpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoXCJhdXRoQ29udHJvbGxlclwiLCBhdXRoQ29udHJvbGxlcik7XG5cblxuICAgIGZ1bmN0aW9uIGF1dGhDb250cm9sbGVyKCRzY29wZSwgYXV0aFNlcnZpY2UsICRpb25pY1BvcHVwLCAkc3RhdGUpIHtcblxuICAgICAgICAkc2NvcGUuZGF0YSA9IHt9O1xuXG4gICAgICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmxvZ2luKCRzY29wZS5kYXRhLnVzZXJuYW1lLCAkc2NvcGUuZGF0YS5wYXNzd29yZCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYnVpbGRpbmdzJyk7XG4gICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9naW4gZmFpbGVkIScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnUGxlYXNlIGNoZWNrIHlvdXIgY3JlZGVudGlhbHMhJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAuYXV0aFwiLCBbXSk7XG59KSgpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcC5idWlsZGluZ3NcIiwgW10pO1xufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAucHJvZmlsZXNcIiwgW10pO1xufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAuc2lkZW1lbnVcIiwgW10pO1xufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYXV0aENvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcImF1dGhTZXJ2aWNlXCIsIFwiJGlvbmljUG9wdXBcIiwgXCIkc3RhdGVcIl07XG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAuYXV0aFwiKVxuXG4gICAgICAgIC5jb250cm9sbGVyKFwiYXV0aENvbnRyb2xsZXJcIiwgYXV0aENvbnRyb2xsZXIpO1xuXG5cbiAgICBmdW5jdGlvbiBhdXRoQ29udHJvbGxlcigkc2NvcGUsIGF1dGhTZXJ2aWNlLCAkaW9uaWNQb3B1cCwgJHN0YXRlKSB7XG5cbiAgICAgICAgJHNjb3BlLmRhdGEgPSB7fTtcblxuICAgICAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhdXRoU2VydmljZS5sb2dpbigkc2NvcGUuZGF0YS51c2VybmFtZSwgJHNjb3BlLmRhdGEucGFzc3dvcmQpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmJ1aWxkaW5ncycpO1xuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0xvZ2luIGZhaWxlZCEnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ1BsZWFzZSBjaGVjayB5b3VyIGNyZWRlbnRpYWxzISdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYXV0aFNlcnZpY2UuJGluamVjdCA9IFtcIiRxXCJdO1xuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwLmF1dGhcIilcblxuICAgICAgICAuc2VydmljZShcImF1dGhTZXJ2aWNlXCIsIGF1dGhTZXJ2aWNlKVxuXG5cbiAgICBmdW5jdGlvbiBhdXRoU2VydmljZSgkcSkge1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2dpbjogZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJuYW1lID09ICd1c2VyJyAmJiBwYXNzd29yZCA9PSAncGFzc3dvcmQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ1dlbGNvbWUgJyArIHVzZXJuYW1lICsgJyEnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ1dyb25nIGNyZWRlbnRpYWxzIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcm9taXNlLnN1Y2Nlc3MgPSBmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZm4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5lcnJvciA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihudWxsLCBmbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYnVpbGRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkc3RhdGVQYXJhbXNcIl07XG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAuYnVpbGRpbmdzXCIpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoXCJidWlsZGluZ0NvbnRyb2xsZXJcIiwgYnVpbGRpbmdDb250cm9sbGVyKTtcblxuXG4gICAgZnVuY3Rpb24gYnVpbGRpbmdDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAgICRzY29wZS5jaGFubmVscyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ0NoYW5uZWwgMScsIGlkOiAxIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdDaGFubmVsIDInLCBpZDogMiB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnQ2hhbm5lbCAzJywgaWQ6IDMgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ0NoYW5uZWwgNCcsIGlkOiA0IH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdDaGFubmVsIDUnLCBpZDogNSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnQ2hhbm5lbCA2JywgaWQ6IDYgfVxuICAgICAgICBdO1xuICAgIH1cbn0pKCk7XG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYnVpbGRpbmdzQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGlvbmljTG9hZGluZ1wiLCBcIkZpcmViYXNlU2VydmljZVwiXTtcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcC5idWlsZGluZ3NcIilcblxuICAgICAgICAuY29udHJvbGxlcihcImJ1aWxkaW5nc0NvbnRyb2xsZXJcIiwgYnVpbGRpbmdzQ29udHJvbGxlcik7XG5cblxuICAgIGZ1bmN0aW9uIGJ1aWxkaW5nc0NvbnRyb2xsZXIoJHNjb3BlLCAkaW9uaWNMb2FkaW5nLCBGaXJlYmFzZVNlcnZpY2UpIHtcblx0XHR2YXIgcmVmID0gRmlyZWJhc2VTZXJ2aWNlLmZiLmRhdGFiYXNlKCkucmVmKCdidWlsZGluZ3MnKTtcblxuXHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xuXHRcdHJlZi5vbihcInZhbHVlXCIsIGZ1bmN0aW9uKHNuYXBzaG90KSB7XG5cdFx0XHQkc2NvcGUuYnVpbGRpbmdzID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcblx0XHR9LCBmdW5jdGlvbihlcnJvck9iamVjdCkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJlcnJvciByZWFkaW5nOiBcIiArIGVycm9yT2JqZWN0LmNvZGUpO1xuXHRcdFx0dmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG5cdFx0XHRcdHRpdGxlOiAnT3BzIScsXG5cdFx0XHRcdHRlbXBsYXRlOiAnU29ycnkhIEFuIGVycm9yIG9jdXJyZWQnXG5cdFx0XHR9KTtcblx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xuXHRcdH0pO1xuXG4gICAgICAgIC8vICRzY29wZS5idWlsZGluZ3MgPSBbXG4gICAgICAgIC8vICAgICB7IG5hbWU6ICdCdWlsZGluZyAxJywgaWQ6IDEgfSxcbiAgICAgICAgLy8gICAgIHsgbmFtZTogJ0J1aWxkaW5nIDInLCBpZDogMiB9LFxuICAgICAgICAvLyAgICAgeyBuYW1lOiAnQnVpbGRpbmcgMycsIGlkOiAzIH0sXG4gICAgICAgIC8vICAgICB7IG5hbWU6ICdCdWlsZGluZyA0JywgaWQ6IDQgfSxcbiAgICAgICAgLy8gICAgIHsgbmFtZTogJ0J1aWxkaW5nIDUnLCBpZDogNSB9LFxuICAgICAgICAvLyAgICAgeyBuYW1lOiAnQnVpbGRpbmcgNicsIGlkOiA2IH1cbiAgICAgICAgLy8gXTtcbiAgICB9XG59KSgpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBsYW5kbG9yZFByb2ZpbGVDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIl07XG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAucHJvZmlsZXNcIilcblxuICAgICAgICAuY29udHJvbGxlcihcImxhbmRsb3JkUHJvZmlsZUNvbnRyb2xsZXJcIiwgbGFuZGxvcmRQcm9maWxlQ29udHJvbGxlcik7XG5cblxuICAgIGZ1bmN0aW9uIGxhbmRsb3JkUHJvZmlsZUNvbnRyb2xsZXIoJHNjb3BlKSB7XG5cbiAgICB9XG59KSgpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB0ZW5hbnRQcm9maWxlQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCJdO1xuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwLnByb2ZpbGVzXCIpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoXCJ0ZW5hbnRQcm9maWxlQ29udHJvbGxlclwiLCB0ZW5hbnRQcm9maWxlQ29udHJvbGxlcik7XG5cblxuICAgIGZ1bmN0aW9uIHRlbmFudFByb2ZpbGVDb250cm9sbGVyKCRzY29wZSkge1xuXG4gICAgfVxufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgc2lkZW1lbnVDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIl07XG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAuc2lkZW1lbnVcIilcblxuICAgICAgICAuY29udHJvbGxlcihcInNpZGVtZW51Q29udHJvbGxlclwiLCBzaWRlbWVudUNvbnRyb2xsZXIpO1xuXG5cbiAgICBmdW5jdGlvbiBzaWRlbWVudUNvbnRyb2xsZXIoJHNjb3BlKSB7XG5cbiAgICB9XG59KSgpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG5cbiAgICAgICAgLm1vZHVsZSgnYXBwJywgW1xuICAgICAgICAgICAgJ2lvbmljJyxcblx0XHRcdFxuXHRcdFx0J2FwcC5maXJlYmFzZScsXG4gICAgICAgICAgICAnYXBwLmF1dGgnLFxuICAgICAgICAgICAgJ2FwcC5zaWRlbWVudScsXG4gICAgICAgICAgICAnYXBwLmJ1aWxkaW5ncydcbiAgICAgICAgXSlcblxuICAgICAgICAucnVuKFtcIiRpb25pY1BsYXRmb3JtXCIsIGZ1bmN0aW9uICgkaW9uaWNQbGF0Zm9ybSkge1xuICAgICAgICAgICAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29yZG92YSAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YXR1c0Jhci5zdHlsZURlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfV0pO1xufSkoKTtcblxuXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5maXJlYmFzZScsIFtdKVxuXHRcdC5zZXJ2aWNlKCdGaXJlYmFzZVNlcnZpY2UnLCBmdW5jdGlvbigpIHtcblx0XHRcdFxuXHRcdFx0dmFyIGNvbmZpZyA9IHtcblx0XHRcdFx0YXBpS2V5OiBcIkFJemFTeUI1cTgxQUdHb3g0aTgtUUwyS090bkREZmkwNWlyZ2NIRVwiLFxuXHRcdFx0XHRhdXRoRG9tYWluOiBcInNvY2lhbHN0cmF0YWlkZWF0ZWFtLmZpcmViYXNlYXBwLmNvbVwiLFxuXHRcdFx0XHRkYXRhYmFzZVVSTDogXCJodHRwczovL3NvY2lhbHN0cmF0YWlkZWF0ZWFtLmZpcmViYXNlaW8uY29tXCIsXG5cdFx0XHRcdHN0b3JhZ2VCdWNrZXQ6IFwiXCIsXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5mYiA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcblx0XHR9KTtcblxufSkoKTtcblxuXG5cblxuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcblxuICAgICAgICAubW9kdWxlKCdhcHAnKVxuXG4gICAgICAgIC5jb25maWcoW1wiJHN0YXRlUHJvdmlkZXJcIiwgXCIkdXJsUm91dGVyUHJvdmlkZXJcIiwgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuXG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlclxuXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdhcHAnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcHAnLFxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9zaWRlbWVudS5odG1sJyxcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdhcHAuYnVpbGRpbmdzJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYnVpbGRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtZW51Q29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2J1aWxkaW5ncy5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmJ1aWxkaW5nJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYnVpbGRpbmdzLzpidWlsZGluZ0lkJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtZW51Q29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2J1aWxkaW5nLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdsb2dpbicsIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOlwiL2xvZ2luXCIsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOlwidmlld3MvYXV0aC9sb2dpbi5odG1sXCJcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9mYWxsYmFja1xuICAgICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XG5cbiAgICAgICAgfV0pO1xufSkoKTtcblxuXG5cblxuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcC5hdXRoXCIpXG5cbiAgICAgICAgLnNlcnZpY2UoXCJhdXRoU2VydmljZVwiLCBhdXRoU2VydmljZSlcblxuXG4gICAgZnVuY3Rpb24gYXV0aFNlcnZpY2UoJHEpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9naW46IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICAgICAgICAgIGlmICh1c2VybmFtZSA9PSAndXNlcicgJiYgcGFzc3dvcmQgPT0gJ3Bhc3N3b3JkJykge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdXZWxjb21lICcgKyB1c2VybmFtZSArICchJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdXcm9uZyBjcmVkZW50aWFscyEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb21pc2UuZXJyb3IgPSBmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4obnVsbCwgZm4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcC5idWlsZGluZ3NcIilcblxuICAgICAgICAuY29udHJvbGxlcihcImJ1aWxkaW5nQ29udHJvbGxlclwiLCBidWlsZGluZ0NvbnRyb2xsZXIpO1xuXG5cbiAgICBmdW5jdGlvbiBidWlsZGluZ0NvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICAgJHNjb3BlLmNoYW5uZWxzID0gW1xuICAgICAgICAgICAgeyBuYW1lOiAnQ2hhbm5lbCAxJywgaWQ6IDEgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ0NoYW5uZWwgMicsIGlkOiAyIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdDaGFubmVsIDMnLCBpZDogMyB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnQ2hhbm5lbCA0JywgaWQ6IDQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ0NoYW5uZWwgNScsIGlkOiA1IH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdDaGFubmVsIDYnLCBpZDogNiB9XG4gICAgICAgIF07XG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHAuYnVpbGRpbmdzXCIpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoXCJidWlsZGluZ3NDb250cm9sbGVyXCIsIGJ1aWxkaW5nc0NvbnRyb2xsZXIpO1xuXG5cbiAgICBmdW5jdGlvbiBidWlsZGluZ3NDb250cm9sbGVyKCRzY29wZSwgJGlvbmljTG9hZGluZywgRmlyZWJhc2VTZXJ2aWNlKSB7XG5cdFx0dmFyIHJlZiA9IEZpcmViYXNlU2VydmljZS5mYi5kYXRhYmFzZSgpLnJlZignYnVpbGRpbmdzJyk7XG5cblx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcblx0XHRyZWYub24oXCJ2YWx1ZVwiLCBmdW5jdGlvbihzbmFwc2hvdCkge1xuXHRcdFx0JHNjb3BlLmJ1aWxkaW5ncyA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XG5cdFx0fSwgZnVuY3Rpb24oZXJyb3JPYmplY3QpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiZXJyb3IgcmVhZGluZzogXCIgKyBlcnJvck9iamVjdC5jb2RlKTtcblx0XHRcdHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuXHRcdFx0XHR0aXRsZTogJ09wcyEnLFxuXHRcdFx0XHR0ZW1wbGF0ZTogJ1NvcnJ5ISBBbiBlcnJvciBvY3VycmVkJ1xuXHRcdFx0fSk7XG5cdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcblx0XHR9KTtcblxuICAgICAgICAvLyAkc2NvcGUuYnVpbGRpbmdzID0gW1xuICAgICAgICAvLyAgICAgeyBuYW1lOiAnQnVpbGRpbmcgMScsIGlkOiAxIH0sXG4gICAgICAgIC8vICAgICB7IG5hbWU6ICdCdWlsZGluZyAyJywgaWQ6IDIgfSxcbiAgICAgICAgLy8gICAgIHsgbmFtZTogJ0J1aWxkaW5nIDMnLCBpZDogMyB9LFxuICAgICAgICAvLyAgICAgeyBuYW1lOiAnQnVpbGRpbmcgNCcsIGlkOiA0IH0sXG4gICAgICAgIC8vICAgICB7IG5hbWU6ICdCdWlsZGluZyA1JywgaWQ6IDUgfSxcbiAgICAgICAgLy8gICAgIHsgbmFtZTogJ0J1aWxkaW5nIDYnLCBpZDogNiB9XG4gICAgICAgIC8vIF07XG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwLnByb2ZpbGVzXCIpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoXCJsYW5kbG9yZFByb2ZpbGVDb250cm9sbGVyXCIsIGxhbmRsb3JkUHJvZmlsZUNvbnRyb2xsZXIpO1xuXG5cbiAgICBmdW5jdGlvbiBsYW5kbG9yZFByb2ZpbGVDb250cm9sbGVyKCRzY29wZSkge1xuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwLnByb2ZpbGVzXCIpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoXCJ0ZW5hbnRQcm9maWxlQ29udHJvbGxlclwiLCB0ZW5hbnRQcm9maWxlQ29udHJvbGxlcik7XG5cblxuICAgIGZ1bmN0aW9uIHRlbmFudFByb2ZpbGVDb250cm9sbGVyKCRzY29wZSkge1xuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwLnNpZGVtZW51XCIpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoXCJzaWRlbWVudUNvbnRyb2xsZXJcIiwgc2lkZW1lbnVDb250cm9sbGVyKTtcblxuXG4gICAgZnVuY3Rpb24gc2lkZW1lbnVDb250cm9sbGVyKCRzY29wZSkge1xuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcblxuICAgICAgICAubW9kdWxlKCdhcHAnLCBbXG4gICAgICAgICAgICAnaW9uaWMnLFxuXHRcdFx0XG5cdFx0XHQnYXBwLmZpcmViYXNlJyxcbiAgICAgICAgICAgICdhcHAuYXV0aCcsXG4gICAgICAgICAgICAnYXBwLnNpZGVtZW51JyxcbiAgICAgICAgICAgICdhcHAuYnVpbGRpbmdzJ1xuICAgICAgICBdKVxuXG4gICAgICAgIC5ydW4oZnVuY3Rpb24gKCRpb25pY1BsYXRmb3JtKSB7XG4gICAgICAgICAgICAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb3Jkb3ZhICYmIHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5TdGF0dXNCYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbn0pKCk7XG5cblxuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmZpcmViYXNlJywgW10pXG5cdFx0LnNlcnZpY2UoJ0ZpcmViYXNlU2VydmljZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XG5cdFx0XHR2YXIgY29uZmlnID0ge1xuXHRcdFx0XHRhcGlLZXk6IFwiQUl6YVN5QjVxODFBR0dveDRpOC1RTDJLT3RuRERmaTA1aXJnY0hFXCIsXG5cdFx0XHRcdGF1dGhEb21haW46IFwic29jaWFsc3RyYXRhaWRlYXRlYW0uZmlyZWJhc2VhcHAuY29tXCIsXG5cdFx0XHRcdGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vc29jaWFsc3RyYXRhaWRlYXRlYW0uZmlyZWJhc2Vpby5jb21cIixcblx0XHRcdFx0c3RvcmFnZUJ1Y2tldDogXCJcIixcblx0XHRcdH07XG5cdFx0XHR0aGlzLmZiID0gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcpO1xuXHRcdH0pO1xuXG59KSgpO1xuXG5cblxuXG4iLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcblxuICAgICAgICAubW9kdWxlKCdhcHAnKVxuXG4gICAgICAgIC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuXG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlclxuXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdhcHAnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcHAnLFxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9zaWRlbWVudS5odG1sJyxcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdhcHAuYnVpbGRpbmdzJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYnVpbGRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtZW51Q29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2J1aWxkaW5ncy5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmJ1aWxkaW5nJywge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYnVpbGRpbmdzLzpidWlsZGluZ0lkJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtZW51Q29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2J1aWxkaW5nLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgLnN0YXRlKCdsb2dpbicsIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOlwiL2xvZ2luXCIsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOlwidmlld3MvYXV0aC9sb2dpbi5odG1sXCJcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9mYWxsYmFja1xuICAgICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XG5cbiAgICAgICAgfSk7XG59KSgpO1xuXG5cblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
